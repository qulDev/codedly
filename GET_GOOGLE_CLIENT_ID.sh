#!/bin/bash

echo "=========================================="
echo "  GOOGLE CLIENT ID SETUP HELPER"
echo "=========================================="
echo ""
echo "For your Codedly app using Supabase OAuth:"
echo ""
echo "üåê STEP 1: Get SHA-1 for Android (if needed)"
echo "----------------------------------------"
echo "Run this command to build and get SHA-1:"
echo ""
echo "  cd android && ./gradlew signingReport"
echo ""
echo "Look for 'SHA1' under 'Variant: debug'"
echo ""
echo "=========================================="
echo ""
echo "üîë STEP 2: Create OAuth Credentials"
echo "----------------------------------------"
echo "1. Go to: https://console.cloud.google.com/apis/credentials"
echo ""
echo "2. Click: '+ CREATE CREDENTIALS' ‚Üí 'OAuth client ID'"
echo ""
echo "3. Create THREE different client IDs:"
echo ""
echo "   üì± WEB CLIENT (REQUIRED for Supabase):"
echo "   ‚îú‚îÄ Application type: Web application"
echo "   ‚îú‚îÄ Name: Codedly Web"
echo "   ‚îú‚îÄ Authorized JavaScript origins:"
echo "   ‚îÇ  ‚îî‚îÄ https://pzezxtsyujkwhphghyyt.supabase.co"
echo "   ‚îî‚îÄ Authorized redirect URIs:"
echo "      ‚îî‚îÄ https://pzezxtsyujkwhphghyyt.supabase.co/auth/v1/callback"
echo ""
echo "   üì± ANDROID CLIENT (Optional):"
echo "   ‚îú‚îÄ Application type: Android"
echo "   ‚îú‚îÄ Name: Codedly Android"
echo "   ‚îú‚îÄ Package name: com.example.codedly"
echo "   ‚îî‚îÄ SHA-1: [Get from gradlew signingReport]"
echo ""
echo "   üì± iOS CLIENT (Optional):"
echo "   ‚îú‚îÄ Application type: iOS"
echo "   ‚îú‚îÄ Name: Codedly iOS"
echo "   ‚îî‚îÄ Bundle ID: com.example.codedly"
echo ""
echo "=========================================="
echo ""
echo "‚öôÔ∏è  STEP 3: Configure Supabase"
echo "----------------------------------------"
echo "1. Go to: https://app.supabase.com/project/pzezxtsyujkwhphghyyt/auth/providers"
echo ""
echo "2. Find 'Google' provider"
echo ""
echo "3. Enable it and paste:"
echo "   ‚îú‚îÄ Client ID: [From WEB CLIENT]"
echo "   ‚îî‚îÄ Client Secret: [From WEB CLIENT]"
echo ""
echo "4. Click SAVE"
echo ""
echo "=========================================="
echo ""
echo "üìù IMPORTANT NOTES:"
echo "----------------------------------------"
echo "‚ùå You DON'T need GOOGLE_CLIENT_ID in .env file"
echo "   (Supabase handles OAuth on their server)"
echo ""
echo "‚úÖ Only configure in Supabase Dashboard"
echo ""
echo "‚úÖ Web Client ID + Secret go to Supabase"
echo ""
echo "‚úÖ Android/iOS clients are optional"
echo "   (only needed for native Google Sign-In SDK)"
echo ""
echo "=========================================="
echo ""
echo "üß™ STEP 4: Test"
echo "----------------------------------------"
echo "Run: flutter run"
echo "Click: 'Sign in with Google' button"
echo "Select: Your Google account"
echo "Verify: Redirects back to app and logs in"
echo ""
echo "=========================================="
